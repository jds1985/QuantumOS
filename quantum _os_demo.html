<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quantum OS Demo — Core + Rings</title>
<meta name="description" content="Interactive demo of the Quantum OS architecture: Quantum Core + Rings, agent spawning, optimization loop, and compression to Super Agents." />
<style>
  :root{
    --bg:#0b0b12; --panel:#11131a; --ink:#e8eaf0; --muted:#b6bdc9;
    --ring:#7c8cff; --ring2:#f38bb3; --core:#8be9fd; --accent:#8cffc7;
  }
  html,body{height:100%}
  body{
    margin:0;
    background:radial-gradient(1200px 800px at 80% 10%,#161823 0%, var(--bg) 60%);
    color:var(--ink);
    font:14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  }
  .wrap{max-width:1100px;margin:0 auto;padding:20px}
  .header{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
  h1{font-size:20px;margin:0}
  .controls{display:flex;flex-wrap:wrap;gap:8px}
  button{
    background:#1a1f2b;border:1px solid #2a3143;color:var(--ink);
    padding:10px 12px;border-radius:12px;cursor:pointer
  }
  button:hover{background:#202638}
  .panel{
    background:linear-gradient(180deg,#121521,#0f121c);
    border:1px solid #242a3a;border-radius:16px;padding:16px
  }
  .stats{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px;margin-top:12px}
  .stat{background:#0e1220;border:1px solid #22283a;border-radius:12px;padding:12px}
  .stat .lbl{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
  .stat .val{font-size:20px;margin-top:2px}
  canvas{
    display:block;width:100%;max-width:100%;height:520px;
    background:radial-gradient(circle at 50% 40%,rgba(124,140,255,.08),transparent 55%);
    border-radius:16px;border:1px solid #22283a
  }
  .hint{color:var(--muted);margin-top:8px}
  .legend{display:flex;gap:12px;align-items:center;margin-top:8px;color:var(--muted)}
  .dot{width:10px;height:10px;border-radius:50%}
  .dot.core{background:var(--core);box-shadow:0 0 12px var(--core)}
  .dot.r1{background:var(--accent);box-shadow:0 0 10px var(--accent)}
  .dot.r2{background:var(--ring2);box-shadow:0 0 10px var(--ring2)}

  @media (max-width:700px){
    .stats{grid-template-columns:repeat(2,minmax(0,1fr))}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <h1>Quantum OS — Interactive Simulation</h1>
      <div class="controls">
        <button id="spawn">Spawn Agents</button>
        <button id="toggle">Start Optimize</button>
        <button id="compress">Compress → Super Agent</button>
        <button id="reset">Reset</button>
      </div>
    </div>

    <div class="panel">
      <canvas id="sim" width="1100" height="520" aria-label="Quantum OS rings simulation"></canvas>
      <div class="legend">
        <div class="dot core"></div> <span>Quantum Core</span>
        <div class="dot r1"></div> <span>Ring 1 agent</span>
        <div class="dot r2"></div> <span>Ring 2 agent</span>
      </div>

      <div class="stats">
        <div class="stat"><div class="lbl">Active Agents</div><div class="val" id="sAgents">0</div></div>
        <div class="stat"><div class="lbl">Super Agents</div><div class="val" id="sSuper">0</div></div>
        <div class="stat"><div class="lbl">System Efficiency</div><div class="val" id="sEff">62%</div></div>
        <div class="stat"><div class="lbl">Cost Reduction</div><div class="val" id="sCost">18%</div></div>
      </div>

      <div class="hint">Simulation only — illustrates Quantum Core orchestration, ring specialization, and compression into Super Agents.</div>
    </div>
  </div>

<script>
(() => {
  const canvas = document.getElementById('sim');
  const ctx = canvas.getContext('2d');
  const center = { x: canvas.width/2, y: canvas.height/2 };
  const R1 = 130, R2 = 210;
  let agents = []; // { ring, angle, speed }
  let superAgents = 0;
  let running = false;
  let eff = 62, cost = 18;
  let last = 0;

  function spawn(n=12){
    for(let i=0;i<n;i++){
      agents.push({
        ring: Math.random() > 0.45 ? 2 : 1,
        angle: Math.random()*Math.PI*2,
        speed: (Math.random()*0.6 + 0.3) * (Math.random()>.5?1:-1)
      });
    }
    updateStats();
  }

  function compress(){
    if(agents.length < 6) return;
    const remove = Math.floor(agents.length * 0.5);
    agents = agents.slice(0, Math.max(agents.length - remove, 0));
    superAgents++;
    eff = Math.min(99, +(eff + 2.5).toFixed(1));
    cost = Math.min(92, +(cost + 1.2).toFixed(1));
    updateStats();
  }

  function reset(){
    agents = [];
    superAgents = 0;
    eff = 62; cost = 18;
    running = false;
    updateStats();
  }

  function updateStats(){
    document.getElementById('sAgents').textContent = agents.length;
    document.getElementById('sSuper').textContent = superAgents;
    document.getElementById('sEff').textContent = eff + '%';
    document.getElementById('sCost').textContent = cost + '%';
  }

  function draw(timestamp){
    if (!last) last = timestamp;
    const dt = (timestamp - last) / 16.67; // ~frames
    last = timestamp;

    // clear
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // outer soft glow
    ctx.beginPath();
    ctx.arc(center.x, center.y, R2+22, 0, Math.PI*2);
    ctx.strokeStyle = 'rgba(124,140,255,0.15)';
    ctx.lineWidth = 16;
    ctx.stroke();

    // outer ring
    ctx.beginPath();
    ctx.arc(center.x, center.y, R2, 0, Math.PI*2);
    ctx.strokeStyle = 'rgba(243,139,179,0.7)';
    ctx.lineWidth = 2;
    ctx.stroke();

    // inner ring
    ctx.beginPath();
    ctx.arc(center.x, center.y, R1, 0, Math.PI*2);
    ctx.strokeStyle = 'rgba(140,255,199,0.7)';
    ctx.lineWidth = 2;
    ctx.stroke();

    // core
    ctx.beginPath();
    ctx.arc(center.x, center.y, 16, 0, Math.PI*2);
    ctx.fillStyle = 'rgba(139,233,253,0.95)';
    ctx.shadowColor = 'rgba(139,233,253,0.9)';
    ctx.shadowBlur = 20;
    ctx.fill();
    ctx.shadowBlur = 0;

    // SA label
    if (superAgents>0){
      ctx.fillStyle = 'rgba(200,255,240,.9)';
      ctx.font = '12px system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(superAgents + ' SA', center.x, center.y + 34);
    }

    // agents
    for(const a of agents){
      if (running) a.angle += a.speed * dt * 0.01;
      const r = a.ring===2 ? R2 : R1;
      const x = center.x + Math.cos(a.angle)*r;
      const y = center.y + Math.sin(a.angle)*r;
      ctx.beginPath();
      ctx.arc(x,y, 4.5, 0, Math.PI*2);
      ctx.fillStyle = a.ring===2 ? 'rgba(243,139,179,0.95)' : 'rgba(140,255,199,0.95)';
      ctx.shadowColor = a.ring===2 ? 'rgba(243,139,179,0.7)' : 'rgba(140,255,199,0.7)';
      ctx.shadowBlur = 10;
      ctx.fill();
      ctx.shadowBlur = 0;
    }

    // passive optimization drift
    if (running && Math.random()<0.02){
      eff = Math.min(99, +(eff + 0.1).toFixed(1));
      cost = Math.min(92, +(cost + 0.05).toFixed(1));
      document.getElementById('sEff').textContent = eff + '%';
      document.getElementById('sCost').textContent = cost + '%';
    }

    requestAnimationFrame(draw);
  }

  // controls
  document.getElementById('spawn').addEventListener('click', ()=>spawn(12));
  document.getElementById('compress').addEventListener('click', compress);
  document.getElementById('reset').addEventListener('click', reset);
  document.getElementById('toggle').addEventListener('click', (e)=>{
    running = !running;
    e.target.textContent = running ? 'Pause Optimize' : 'Start Optimize';
  });

  // initial state
  spawn(10);
  requestAnimationFrame(draw);
})();
</script>
</body>
</html>
